'Jonnitto.ImagesInARow:Container':
  superTypes:
    'Neos.Neos:Content': true
  label: "${(q(node).children('media').children().count() ? q(node).children('media').children().count() + ' ' : '') + (I18n.translate(node.nodeType.label) || node.nodeType.name)}"
  ui:
    label: i18n
    icon: icon-picture
    inlineEditable: true
    creationDialog:
      elements:
        numberOfImages:
          type: integer
          ui:
            label: 'Jonnitto.ImagesInARow:NodeTypes.Container:numberOfImages'
            editor: 'Neos.Neos/Inspector/Editors/TextFieldEditor'
          validation:
            'Neos.Neos/Validation/IntegerValidator': true
            'Neos.Neos/Validation/NumberRangeValidator':
              minimum: 2
              maximum: 99
  options:
    template:
      childNodes:
        mediaContentCollection:
          name: 'media'
          childNodes:
            multipleImageNodes:
              type: 'Jonnitto.ImagesInARow:Image'
              when: '${data.numberOfImages}'
              withItems: '${Array.range(1, data.numberOfImages)}'
  childNodes:
    media:
      type: 'Neos.Neos:ContentCollection'
      constraints:
        nodeTypes:
          '*': false
          'Jonnitto.ImagesInARow:Image': true

'Neos.Neos:ContentCollection':
  constraints:
    nodeTypes:
      'Jonnitto.ImagesInARow:Image': false

'Jonnitto.ImagesInARow:Image':
  superTypes:
    'Carbon.Image:Image': true
    'Neos.Neos:Content': true
    'Carbon.Image:Title': true
    'Carbon.Image:AlternativeText': true
    'Carbon.Image:Lightbox': true
    'Carbon.Image:Caption': true
    'Carbon.Image:Link': true
    'Carbon.Image:BackendLabel': true
  ui:
    label: i18n
    icon: icon-picture
    inlineEditable: true
  properties:
    lightbox:
      defaultValue: true
